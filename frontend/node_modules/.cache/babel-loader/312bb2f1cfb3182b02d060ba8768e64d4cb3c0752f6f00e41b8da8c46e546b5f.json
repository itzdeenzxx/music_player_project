{"ast":null,"code":"export default {\n  name: 'EnhancedMusicPlayer',\n  data() {\n    return {\n      musics: [],\n      currentPlayingIndex: -1,\n      isPlaying: false,\n      currentTime: 0,\n      duration: 0,\n      volume: 80,\n      player: null,\n      isPlayerHidden: false,\n      hideVideo: false,\n      isRepeatEnabled: false,\n      currentTab: 'classic',\n      tabs: [{\n        id: 'classic',\n        name: 'Classic'\n      }, {\n        id: 'cards',\n        name: 'Popular'\n      }, {\n        id: 'albums',\n        name: 'Albums'\n      }]\n    };\n  },\n  computed: {\n    currentMusic() {\n      return this.currentPlayingIndex >= 0 ? this.musics[this.currentPlayingIndex] : null;\n    },\n    progress() {\n      return this.currentTime / this.duration * 100 || 0;\n    },\n    popularTracks() {\n      return [...this.musics].sort(() => Math.random() - 0.5).slice(0, 6);\n    }\n  },\n  methods: {\n    async fetchMusics() {\n      try {\n        const response = await fetch('http://localhost:3000/musics');\n        if (!response.ok) throw new Error('Failed to fetch music data');\n        this.musics = await response.json();\n      } catch (error) {\n        console.error('Error fetching music:', error);\n      }\n    },\n    async initYouTubePlayer() {\n      if (!window.YT) {\n        await this.loadYouTubeAPI();\n      }\n      this.player = new window.YT.Player('youtube-player', {\n        height: '180',\n        width: '100%',\n        playerVars: {\n          controls: 0,\n          disablekb: 1,\n          enablejsapi: 1,\n          modestbranding: 1,\n          rel: 0\n        },\n        events: {\n          onReady: this.onPlayerReady,\n          onStateChange: this.onPlayerStateChange,\n          onError: event => {\n            console.error('YouTube Player Error:', event);\n          }\n        }\n      });\n    },\n    togglePlayer() {\n      this.isPlayerHidden = !this.isPlayerHidden;\n    },\n    toggleVideo() {\n      this.hideVideo = !this.hideVideo;\n    },\n    toggleRepeat() {\n      this.isRepeatEnabled = !this.isRepeatEnabled;\n    },\n    toggleMute() {\n      if (this.volume === 0) {\n        this.volume = 80;\n      } else {\n        this.volume = 0;\n      }\n      if (this.player) {\n        this.player.setVolume(this.volume);\n      }\n    },\n    formatViews(views) {\n      return new Intl.NumberFormat('en-US', {\n        notation: 'compact'\n      }).format(views);\n    }\n\n    // ... (keep all existing methods from the original component)\n  }\n};","map":{"version":3,"names":["name","data","musics","currentPlayingIndex","isPlaying","currentTime","duration","volume","player","isPlayerHidden","hideVideo","isRepeatEnabled","currentTab","tabs","id","computed","currentMusic","progress","popularTracks","sort","Math","random","slice","methods","fetchMusics","response","fetch","ok","Error","json","error","console","initYouTubePlayer","window","YT","loadYouTubeAPI","Player","height","width","playerVars","controls","disablekb","enablejsapi","modestbranding","rel","events","onReady","onPlayerReady","onStateChange","onPlayerStateChange","onError","event","togglePlayer","toggleVideo","toggleRepeat","toggleMute","setVolume","formatViews","views","Intl","NumberFormat","notation","format"],"sources":["/Users/addeen/Desktop/project/frontend/src/components/TheHome.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen bg-gray-100\">\r\n    <!-- Player Control (Fixed Position) -->\r\n    <div class=\"fixed bottom-0 left-0 w-80 bg-white shadow-lg rounded-tr-xl p-4 transition-transform duration-300\" \r\n         :class=\"{'translate-y-full': isPlayerHidden}\">\r\n      <button @click=\"togglePlayer\" \r\n              class=\"absolute -top-10 right-4 bg-white p-2 rounded-t-lg shadow-md\">\r\n        <span v-if=\"isPlayerHidden\">Show Player</span>\r\n        <span v-else>Hide Player</span>\r\n      </button>\r\n      \r\n      <!-- YouTube Player -->\r\n      <div class=\"relative\">\r\n        <div id=\"youtube-player\" :class=\"{'hidden': hideVideo}\"></div>\r\n        <button @click=\"toggleVideo\" \r\n                class=\"absolute top-2 right-2 bg-black/50 text-white p-1 rounded\">\r\n          {{ hideVideo ? 'Show Video' : 'Hide Video' }}\r\n        </button>\r\n      </div>\r\n\r\n      <!-- Player Controls -->\r\n      <div class=\"mt-4\">\r\n        <div class=\"flex items-center justify-between mb-4\">\r\n          <div class=\"flex-1\">\r\n            <p class=\"text-sm font-bold truncate\">{{ currentMusic?.ms_name || 'Select a track' }}</p>\r\n            <p class=\"text-xs text-gray-500 truncate\">{{ currentMusic?.ms_album || 'No album' }}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Progress Bar -->\r\n        <div class=\"relative h-1 bg-gray-200 rounded cursor-pointer\" @click=\"seekTime\">\r\n          <div class=\"absolute h-full bg-green-500 rounded\" \r\n               :style=\"{ width: `${progress}%` }\"></div>\r\n        </div>\r\n\r\n        <!-- Time Display -->\r\n        <div class=\"flex justify-between text-xs text-gray-500 mt-1\">\r\n          <span>{{ formatTime(currentTime) }}</span>\r\n          <span>{{ formatTime(duration) }}</span>\r\n        </div>\r\n\r\n        <!-- Control Buttons -->\r\n        <div class=\"flex items-center justify-between mt-4\">\r\n          <button @click=\"toggleRepeat\" \r\n                  class=\"p-2 hover:text-green-500\"\r\n                  :class=\"{ 'text-green-500': isRepeatEnabled }\">\r\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path d=\"M4 4v5h5M4 9l5-5M20 20v-5h-5m5 5l-5-5\"/>\r\n            </svg>\r\n          </button>\r\n\r\n          <button @click=\"previousTrack\" class=\"p-2 hover:text-green-500\">\r\n            <svg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path d=\"M19 5L9 12l10 7V5z M5 5v14\"/>\r\n            </svg>\r\n          </button>\r\n\r\n          <button @click=\"togglePlay\" \r\n                  class=\"p-3 bg-green-500 rounded-full text-white hover:bg-green-600\">\r\n            <svg class=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path v-if=\"isPlaying\" d=\"M6 4h4v16H6zM14 4h4v16h-4z\"/>\r\n              <path v-else d=\"M8 5v14l11-7z\"/>\r\n            </svg>\r\n          </button>\r\n\r\n          <button @click=\"nextTrack\" class=\"p-2 hover:text-green-500\">\r\n            <svg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path d=\"M5 5l10 7-10 7V5z M19 5v14\"/>\r\n            </svg>\r\n          </button>\r\n\r\n          <button @click=\"toggleMute\" class=\"p-2 hover:text-green-500\">\r\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path v-if=\"volume === 0\" d=\"M5 8h2l4-4v16l-4-4H5V8z M17 8l4 4m0-4l-4 4\"/>\r\n              <path v-else d=\"M5 8h2l4-4v16l-4-4H5V8z M15 8a5 5 0 0 1 0 8\"/>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Main Content -->\r\n    <div class=\"container mx-auto px-4 py-8\">\r\n      <!-- Navigation Tabs -->\r\n      <div class=\"flex space-x-4 mb-8\">\r\n        <button v-for=\"tab in tabs\" \r\n                :key=\"tab.id\"\r\n                @click=\"currentTab = tab.id\"\r\n                class=\"px-4 py-2 rounded-lg transition-colors\"\r\n                :class=\"currentTab === tab.id ? 'bg-green-500 text-white' : 'bg-white text-gray-700 hover:bg-gray-50'\">\r\n          {{ tab.name }}\r\n        </button>\r\n      </div>\r\n\r\n      <!-- Classic View -->\r\n      <div v-if=\"currentTab === 'classic'\" class=\"bg-white rounded-xl p-6 shadow-md\">\r\n        <h2 class=\"text-xl font-bold mb-4 flex items-center\">\r\n          <svg class=\"w-6 h-6 mr-2 text-green-500\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path d=\"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z\"/>\r\n          </svg>\r\n          Classic View\r\n        </h2>\r\n        <!-- Original player layout here -->\r\n        <div class=\"space-y-2\">\r\n          <div v-for=\"(music, index) in musics\" \r\n               :key=\"music.ms_id\"\r\n               @click=\"playMusic(index)\"\r\n               class=\"flex items-center p-3 rounded-lg hover:bg-gray-50 cursor-pointer\">\r\n            <div class=\"flex-1\">\r\n              <p class=\"font-medium\">{{ music.ms_name }}</p>\r\n              <p class=\"text-sm text-gray-500\">{{ music.ms_album }}</p>\r\n            </div>\r\n            <div v-if=\"currentPlayingIndex === index\" class=\"flex space-x-1\">\r\n              <div v-for=\"n in 4\" :key=\"n\" \r\n                   class=\"w-1 h-8 bg-green-500 animate-music-bar\"></div>\r\n            </div>\r\n            <svg v-else class=\"w-6 h-6 text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path d=\"M8 5v14l11-7z\"/>\r\n            </svg>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Card View -->\r\n      <div v-if=\"currentTab === 'cards'\" class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        <div v-for=\"(music, index) in popularTracks\" \r\n             :key=\"music.ms_id\"\r\n             @click=\"playMusic(index)\"\r\n             class=\"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow\">\r\n          <div class=\"aspect-video bg-gray-200\">\r\n            <!-- Thumbnail placeholder -->\r\n          </div>\r\n          <div class=\"p-4\">\r\n            <h3 class=\"font-bold mb-1\">{{ music.ms_name }}</h3>\r\n            <p class=\"text-sm text-gray-500\">{{ music.ms_album }}</p>\r\n            <div class=\"mt-4 flex justify-between items-center\">\r\n              <span class=\"text-xs text-gray-400\">{{ formatViews(music.views) }} views</span>\r\n              <button class=\"text-green-500 hover:text-green-600\">\r\n                <svg class=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path d=\"M8 5v14l11-7z\"/>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Albums View -->\r\n      <div v-if=\"currentTab === 'albums'\" class=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\r\n        <div v-for=\"album in albums\" \r\n             :key=\"album.id\"\r\n             class=\"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow\">\r\n          <div class=\"aspect-square bg-gray-200\">\r\n            <!-- Album art placeholder -->\r\n          </div>\r\n          <div class=\"p-4\">\r\n            <h3 class=\"font-bold mb-1\">{{ album.name }}</h3>\r\n            <p class=\"text-sm text-gray-500\">{{ album.artist }}</p>\r\n            <p class=\"text-xs text-gray-400 mt-2\">{{ album.trackCount }} tracks</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'EnhancedMusicPlayer',\r\n  data() {\r\n    return {\r\n      musics: [],\r\n      currentPlayingIndex: -1,\r\n      isPlaying: false,\r\n      currentTime: 0,\r\n      duration: 0,\r\n      volume: 80,\r\n      player: null,\r\n      isPlayerHidden: false,\r\n      hideVideo: false,\r\n      isRepeatEnabled: false,\r\n      currentTab: 'classic',\r\n      tabs: [\r\n        { id: 'classic', name: 'Classic' },\r\n        { id: 'cards', name: 'Popular' },\r\n        { id: 'albums', name: 'Albums' }\r\n      ]\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    currentMusic() {\r\n      return this.currentPlayingIndex >= 0 ? this.musics[this.currentPlayingIndex] : null;\r\n    },\r\n    progress() {\r\n      return (this.currentTime / this.duration) * 100 || 0;\r\n    },\r\n    popularTracks() {\r\n      return [...this.musics]\r\n        .sort(() => Math.random() - 0.5)\r\n        .slice(0, 6);\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    async fetchMusics() {\r\n      try {\r\n        const response = await fetch('http://localhost:3000/musics');\r\n        if (!response.ok) throw new Error('Failed to fetch music data');\r\n        this.musics = await response.json();\r\n      } catch (error) {\r\n        console.error('Error fetching music:', error);\r\n      }\r\n    },\r\n\r\n    async initYouTubePlayer() {\r\n      if (!window.YT) {\r\n        await this.loadYouTubeAPI();\r\n      }\r\n      \r\n      this.player = new window.YT.Player('youtube-player', {\r\n        height: '180',\r\n        width: '100%',\r\n        playerVars: {\r\n          controls: 0,\r\n          disablekb: 1,\r\n          enablejsapi: 1,\r\n          modestbranding: 1,\r\n          rel: 0\r\n        },\r\n        events: {\r\n          onReady: this.onPlayerReady,\r\n          onStateChange: this.onPlayerStateChange,\r\n          onError: (event) => {\r\n            console.error('YouTube Player Error:', event);\r\n          }\r\n        }\r\n      });\r\n    },\r\n\r\n    togglePlayer() {\r\n      this.isPlayerHidden = !this.isPlayerHidden;\r\n    },\r\n\r\n    toggleVideo() {\r\n      this.hideVideo = !this.hideVideo;\r\n    },\r\n\r\n    toggleRepeat() {\r\n      this.isRepeatEnabled = !this.isRepeatEnabled;\r\n    },\r\n\r\n    toggleMute() {\r\n      if (this.volume === 0) {\r\n        this.volume = 80;\r\n      } else {\r\n        this.volume = 0;\r\n      }\r\n      if (this.player) {\r\n        this.player.setVolume(this.volume);\r\n      }\r\n    },\r\n\r\n    formatViews(views) {\r\n      return new Intl.NumberFormat('en-US', { notation: 'compact' }).format(views);\r\n    },\r\n\r\n    // ... (keep all existing methods from the original component)\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n@keyframes music-bar {\r\n  0% { transform: scaleY(0.3); }\r\n  50% { transform: scaleY(1); }\r\n  100% { transform: scaleY(0.3); }\r\n}\r\n\r\n.animate-music-bar {\r\n  animation: music-bar 1s infinite;\r\n}\r\n\r\n.animate-music-bar:nth-child(1) { animation-delay: 0s; }\r\n.animate-music-bar:nth-child(2) { animation-delay: 0.2s; }\r\n.animate-music-bar:nth-child(3) { animation-delay: 0.4s; }\r\n.animate-music-bar:nth-child(4) { animation-delay: 0.6s; }\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}