{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"chat\"\n};\nconst _hoisted_2 = {\n  class: \"main\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"currentplaying\"\n}, [/*#__PURE__*/_createElementVNode(\"svg\", {\n  height: \"50px\",\n  width: \"50px\",\n  viewBox: \"0 0 64 64\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  class: \"spotify\"\n}, [/*#__PURE__*/_createCommentVNode(\" SVG code remains same \")]), /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"heading\"\n}, \"Currently Playing\")], -1 /* HOISTED */);\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = {\n  class: \"song\"\n};\nconst _hoisted_6 = {\n  class: \"name\"\n};\nconst _hoisted_7 = {\n  class: \"artist\"\n};\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"albumcover\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_9 = {\n  key: 0,\n  class: \"loading\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"load\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"load\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"load\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"load\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_14 = [_hoisted_10, _hoisted_11, _hoisted_12, _hoisted_13];\nconst _hoisted_15 = {\n  key: 1,\n  class: \"play\"\n};\nconst _hoisted_16 = {\n  key: 0,\n  class: \"card\"\n};\nconst _hoisted_17 = {\n  class: \"top\"\n};\nconst _hoisted_18 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"pfp\\\"><div class=\\\"playing\\\"><div class=\\\"greenline line-1\\\"></div><div class=\\\"greenline line-2\\\"></div><div class=\\\"greenline line-3\\\"></div><div class=\\\"greenline line-4\\\"></div><div class=\\\"greenline line-5\\\"></div></div></div>\", 1);\nconst _hoisted_19 = {\n  class: \"texts\"\n};\nconst _hoisted_20 = {\n  class: \"title-1\"\n};\nconst _hoisted_21 = {\n  class: \"title-2\"\n};\nconst _hoisted_22 = {\n  key: 0,\n  class: \"youtube-container\"\n};\nconst _hoisted_23 = /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"youtube-player\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_24 = [_hoisted_23];\nconst _hoisted_25 = {\n  class: \"controls\"\n};\nconst _hoisted_26 = /*#__PURE__*/_createElementVNode(\"path\", {\n  \"clip-rule\": \"evenodd\",\n  d: \"M11.26 3.691A1.2 1.2 0 0 1 12 4.8v14.4a1.199 1.199 0 0 1-2.048.848L5.503 15.6H2.4a1.2 1.2 0 0 1-1.2-1.2V9.6a1.2 1.2 0 0 1 1.2-1.2h3.103l4.449-4.448a1.2 1.2 0 0 1 1.308-.26Z\",\n  \"fill-rule\": \"evenodd\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_27 = [_hoisted_26];\nconst _hoisted_28 = {\n  class: \"volume\"\n};\nconst _hoisted_29 = /*#__PURE__*/_createElementVNode(\"path\", {\n  \"clip-rule\": \"evenodd\",\n  d: \"M12 21.6a9.6 9.6 0 1 0 0-19.2 9.6 9.6 0 0 0 0 19.2Zm.848-12.352a1.2 1.2 0 0 0-1.696-1.696l-3.6 3.6a1.2 1.2 0 0 0 0 1.696l3.6 3.6a1.2 1.2 0 0 0 1.696-1.696L11.297 13.2H15.6a1.2 1.2 0 1 0 0-2.4h-4.303l1.551-1.552Z\",\n  \"fill-rule\": \"evenodd\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_30 = [_hoisted_29];\nconst _hoisted_31 = /*#__PURE__*/_createElementVNode(\"path\", {\n  \"clip-rule\": \"evenodd\",\n  d: \"M21.6 12a9.6 9.6 0 1 1-19.2 0 9.6 9.6 0 0 1 19.2 0ZM8.4 9.6a1.2 1.2 0 1 1 2.4 0v4.8a1.2 1.2 0 1 1-2.4 0V9.6Zm6-1.2a1.2 1.2 0 0 0-1.2 1.2v4.8a1.2 1.2 0 1 0 2.4 0V9.6a1.2 1.2 0 0 0-1.2-1.2Z\",\n  \"fill-rule\": \"evenodd\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_32 = [_hoisted_31];\nconst _hoisted_33 = /*#__PURE__*/_createElementVNode(\"path\", {\n  \"clip-rule\": \"evenodd\",\n  d: \"M12 21.6a9.6 9.6 0 1 0 0-19.2 9.6 9.6 0 0 0 0 19.2Zm4.448-10.448-3.6-3.6a1.2 1.2 0 0 0-1.696 1.696l1.551 1.552H8.4a1.2 1.2 0 1 0 0 2.4h4.303l-1.551 1.552a1.2 1.2 0 1 0 1.696 1.696l3.6-3.6a1.2 1.2 0 0 0 0-1.696Z\",\n  \"fill-rule\": \"evenodd\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_34 = [_hoisted_33];\nconst _hoisted_35 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"air\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_36 = /*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M3.343 7.778a4.5 4.5 0 0 1 7.339-1.46L12 7.636l1.318-1.318a4.5 4.5 0 1 1 6.364 6.364L12 20.364l-7.682-7.682a4.501 4.501 0 0 1-.975-4.904Z\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_37 = [_hoisted_36];\nconst _hoisted_38 = {\n  class: \"song-time\"\n};\nconst _hoisted_39 = {\n  class: \"timetext time_now\"\n};\nconst _hoisted_40 = {\n  class: \"timetext time_full\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_TomatyComponent = _resolveComponent(\"TomatyComponent\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_TomatyComponent)]), _createElementVNode(\"div\", _hoisted_2, [_hoisted_3, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.musics, (music, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: music.ms_id,\n      class: \"loader\",\n      onClick: $event => $options.playMusic(index)\n    }, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"p\", _hoisted_6, _toDisplayString(music.ms_name), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_7, _toDisplayString(music.ms_album), 1 /* TEXT */)]), _hoisted_8, $data.currentPlayingIndex === index ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [..._hoisted_14])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_15))], 8 /* PROPS */, _hoisted_4);\n  }), 128 /* KEYED_FRAGMENT */))]), $options.currentMusic ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, [_hoisted_18, _createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"p\", _hoisted_20, _toDisplayString($options.currentMusic.ms_name), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_21, _toDisplayString($options.currentMusic.ms_album), 1 /* TEXT */)])]), $options.currentMusic ? (_openBlock(), _createElementBlock(\"div\", _hoisted_22, [..._hoisted_24])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_25, [(_openBlock(), _createElementBlock(\"svg\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.toggleVolume && $options.toggleVolume(...args)),\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    height: \"20\",\n    width: \"24\",\n    class: \"volume_button\"\n  }, [..._hoisted_27])), _createElementVNode(\"div\", _hoisted_28, [_createElementVNode(\"div\", {\n    class: \"slider\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.adjustVolume && $options.adjustVolume(...args))\n  }, [_createElementVNode(\"div\", {\n    class: \"green\",\n    style: _normalizeStyle({\n      width: $data.volume + '%'\n    })\n  }, null, 4 /* STYLE */)]), _createElementVNode(\"div\", {\n    class: \"circle\",\n    style: _normalizeStyle({\n      right: 100 - $data.volume + '%'\n    })\n  }, null, 4 /* STYLE */)]), (_openBlock(), _createElementBlock(\"svg\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.previousTrack && $options.previousTrack(...args)),\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    height: \"24\",\n    width: \"24\"\n  }, [..._hoisted_30])), (_openBlock(), _createElementBlock(\"svg\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.togglePlay && $options.togglePlay(...args)),\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    height: \"24\",\n    width: \"24\"\n  }, [..._hoisted_32])), (_openBlock(), _createElementBlock(\"svg\", {\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.nextTrack && $options.nextTrack(...args)),\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    height: \"24\",\n    width: \"24\"\n  }, [..._hoisted_34])), _hoisted_35, (_openBlock(), _createElementBlock(\"svg\", {\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.toggleFavorite && $options.toggleFavorite(...args)),\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    \"stroke-width\": \"2\",\n    \"stroke-linejoin\": \"round\",\n    \"stroke-linecap\": \"round\",\n    class: \"heart\",\n    style: _normalizeStyle({\n      fill: $data.isFavorite ? 'pink' : 'none'\n    }),\n    stroke: \"currentColor\",\n    height: \"20\",\n    width: \"24\"\n  }, [..._hoisted_37], 4 /* STYLE */))]), _createElementVNode(\"div\", _hoisted_38, [_createElementVNode(\"p\", _hoisted_39, _toDisplayString($options.formatTime($data.currentTime)), 1 /* TEXT */), _createElementVNode(\"div\", {\n    class: \"time\",\n    onClick: _cache[6] || (_cache[6] = (...args) => $options.seekTime && $options.seekTime(...args))\n  }, [_createElementVNode(\"div\", {\n    class: \"elapsed\",\n    style: _normalizeStyle({\n      width: $options.progress + '%'\n    })\n  }, null, 4 /* STYLE */)]), _createElementVNode(\"p\", _hoisted_40, _toDisplayString($options.formatTime($data.duration)), 1 /* TEXT */)])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementVNode","height","width","viewBox","xmlns","_createCommentVNode","key","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_createStaticVNode","id","_hoisted_23","d","_hoisted_26","_hoisted_29","_hoisted_31","_hoisted_33","_hoisted_36","_createElementBlock","_hoisted_1","_createVNode","_component_TomatyComponent","_hoisted_2","_hoisted_3","_Fragment","_renderList","$data","musics","music","index","ms_id","onClick","$event","$options","playMusic","_hoisted_5","_hoisted_6","_toDisplayString","ms_name","_hoisted_7","ms_album","_hoisted_8","currentPlayingIndex","_hoisted_9","_hoisted_14","_hoisted_15","_hoisted_4","currentMusic","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_24","_hoisted_25","_cache","args","toggleVolume","fill","_hoisted_27","_hoisted_28","adjustVolume","style","_normalizeStyle","volume","right","previousTrack","_hoisted_30","togglePlay","_hoisted_32","nextTrack","_hoisted_34","_hoisted_35","toggleFavorite","isFavorite","stroke","_hoisted_37","_hoisted_38","_hoisted_39","formatTime","currentTime","seekTime","progress","_hoisted_40","duration"],"sources":["/Users/addeen/Desktop/project/frontend/src/components/TheHome.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"chat\">\r\n      <TomatyComponent />\r\n  </div>\r\n    <div class=\"main\">\r\n      <div class=\"currentplaying\">\r\n        <svg height=\"50px\" width=\"50px\" viewBox=\"0 0 64 64\" xmlns=\"http://www.w3.org/2000/svg\" class=\"spotify\">\r\n          <!-- SVG code remains same -->\r\n        </svg>\r\n        <p class=\"heading\">Currently Playing</p>\r\n      </div>\r\n      <div v-for=\"(music, index) in musics\" :key=\"music.ms_id\" \r\n           class=\"loader\" \r\n           @click=\"playMusic(index)\">\r\n        <div class=\"song\">\r\n          <p class=\"name\">{{ music.ms_name }}</p>\r\n          <p class=\"artist\">{{ music.ms_album }}</p>\r\n        </div>\r\n        <div class=\"albumcover\"></div>\r\n        <div v-if=\"currentPlayingIndex === index\" class=\"loading\">\r\n          <div class=\"load\"></div>\r\n          <div class=\"load\"></div>\r\n          <div class=\"load\"></div>\r\n          <div class=\"load\"></div>\r\n        </div>\r\n        <div v-else class=\"play\"></div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"card\" v-if=\"currentMusic\">\r\n      <div class=\"top\">\r\n        <div class=\"pfp\">\r\n          <div class=\"playing\">\r\n            <div class=\"greenline line-1\"></div>\r\n            <div class=\"greenline line-2\"></div>\r\n            <div class=\"greenline line-3\"></div>\r\n            <div class=\"greenline line-4\"></div>\r\n            <div class=\"greenline line-5\"></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"texts\">\r\n          <p class=\"title-1\">{{ currentMusic.ms_name }}</p>\r\n          <p class=\"title-2\">{{ currentMusic.ms_album }}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"youtube-container\" v-if=\"currentMusic\">\r\n        <div id=\"youtube-player\"></div>\r\n      </div>\r\n\r\n      <div class=\"controls\">\r\n        <svg @click=\"toggleVolume\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" height=\"20\" width=\"24\"\r\n          class=\"volume_button\">\r\n          <path clip-rule=\"evenodd\"\r\n            d=\"M11.26 3.691A1.2 1.2 0 0 1 12 4.8v14.4a1.199 1.199 0 0 1-2.048.848L5.503 15.6H2.4a1.2 1.2 0 0 1-1.2-1.2V9.6a1.2 1.2 0 0 1 1.2-1.2h3.103l4.449-4.448a1.2 1.2 0 0 1 1.308-.26Z\"\r\n            fill-rule=\"evenodd\"></path>\r\n        </svg>\r\n        <div class=\"volume\">\r\n          <div class=\"slider\" @click=\"adjustVolume\">\r\n            <div class=\"green\" :style=\"{ width: volume + '%' }\"></div>\r\n          </div>\r\n          <div class=\"circle\" :style=\"{ right: (100 - volume) + '%' }\"></div>\r\n        </div>\r\n        <svg @click=\"previousTrack\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" height=\"24\" width=\"24\">\r\n          <path clip-rule=\"evenodd\"\r\n            d=\"M12 21.6a9.6 9.6 0 1 0 0-19.2 9.6 9.6 0 0 0 0 19.2Zm.848-12.352a1.2 1.2 0 0 0-1.696-1.696l-3.6 3.6a1.2 1.2 0 0 0 0 1.696l3.6 3.6a1.2 1.2 0 0 0 1.696-1.696L11.297 13.2H15.6a1.2 1.2 0 1 0 0-2.4h-4.303l1.551-1.552Z\"\r\n            fill-rule=\"evenodd\"></path>\r\n        </svg>\r\n        <svg @click=\"togglePlay\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" height=\"24\" width=\"24\">\r\n          <path clip-rule=\"evenodd\"\r\n            d=\"M21.6 12a9.6 9.6 0 1 1-19.2 0 9.6 9.6 0 0 1 19.2 0ZM8.4 9.6a1.2 1.2 0 1 1 2.4 0v4.8a1.2 1.2 0 1 1-2.4 0V9.6Zm6-1.2a1.2 1.2 0 0 0-1.2 1.2v4.8a1.2 1.2 0 1 0 2.4 0V9.6a1.2 1.2 0 0 0-1.2-1.2Z\"\r\n            fill-rule=\"evenodd\"></path>\r\n        </svg>\r\n        <svg @click=\"nextTrack\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" height=\"24\" width=\"24\">\r\n          <path clip-rule=\"evenodd\"\r\n            d=\"M12 21.6a9.6 9.6 0 1 0 0-19.2 9.6 9.6 0 0 0 0 19.2Zm4.448-10.448-3.6-3.6a1.2 1.2 0 0 0-1.696 1.696l1.551 1.552H8.4a1.2 1.2 0 1 0 0 2.4h4.303l-1.551 1.552a1.2 1.2 0 1 0 1.696 1.696l3.6-3.6a1.2 1.2 0 0 0 0-1.696Z\"\r\n            fill-rule=\"evenodd\"></path>\r\n        </svg>\r\n        <div class=\"air\"></div>\r\n        <svg @click=\"toggleFavorite\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" stroke-width=\"2\" stroke-linejoin=\"round\"\r\n          stroke-linecap=\"round\" class=\"heart\" :style=\"{ fill: isFavorite ? 'pink' : 'none' }\" stroke=\"currentColor\" height=\"20\" width=\"24\">\r\n          <path\r\n            d=\"M3.343 7.778a4.5 4.5 0 0 1 7.339-1.46L12 7.636l1.318-1.318a4.5 4.5 0 1 1 6.364 6.364L12 20.364l-7.682-7.682a4.501 4.501 0 0 1-.975-4.904Z\">\r\n          </path>\r\n        </svg>\r\n      </div>\r\n      \r\n      <div class=\"song-time\">\r\n        <p class=\"timetext time_now\">{{ formatTime(currentTime) }}</p>\r\n        <div class=\"time\" @click=\"seekTime\">\r\n          <div class=\"elapsed\" :style=\"{ width: progress + '%' }\"></div>\r\n        </div>\r\n        <p class=\"timetext time_full\">{{ formatTime(duration) }}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport TomatyComponent from './TomatyComponent.vue';\r\nexport default {\r\n  name: 'MusicPlayer',\r\n  data() {\r\n    return {\r\n      musics: [],\r\n      currentPlayingIndex: -1,\r\n      isPlaying: false,\r\n      currentTime: 0,\r\n      duration: 0,\r\n      volume: 80,\r\n      isFavorite: false,\r\n      player: null,\r\n      isYouTubeApiReady: false,\r\n      playerStates: {\r\n        ENDED: 0,\r\n        PLAYING: 1,\r\n        PAUSED: 2,\r\n        BUFFERING: 3,\r\n        CUED: 5\r\n      }\r\n    }\r\n  },\r\n  components : { TomatyComponent },\r\n  computed: {\r\n    currentMusic() {\r\n      return this.currentPlayingIndex >= 0 ? this.musics[this.currentPlayingIndex] : null;\r\n    },\r\n    progress() {\r\n      return (this.currentTime / this.duration) * 100 || 0;\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchMusics() {\r\n      try {\r\n        const response = await fetch('http://localhost:3000/musics');\r\n        if (!response.ok) throw new Error('Failed to fetch music data');\r\n        this.musics = await response.json();\r\n      } catch (error) {\r\n        console.error('Error fetching music:', error);\r\n      }\r\n    },\r\n    loadYouTubeAPI() {\r\n  return new Promise((resolve) => {\r\n    const tag = document.createElement('script');\r\n    tag.src = 'https://www.youtube.com/iframe_api';\r\n    const firstScriptTag = document.getElementsByTagName('script')[0];\r\n    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\r\n\r\n    window.onYouTubeIframeAPIReady = () => {\r\n      resolve();\r\n    };\r\n  });\r\n},\r\n\r\nasync initYouTubePlayer() {\r\n  if (!window.YT) {\r\n    await this.loadYouTubeAPI();\r\n  }\r\n  \r\n  this.player = new window.YT.Player('youtube-player', {\r\n    height: '200',\r\n    width: '100%',\r\n    playerVars: {\r\n      controls: 0,\r\n      disablekb: 1,\r\n      enablejsapi: 1,\r\n      modestbranding: 1,\r\n      rel: 0\r\n    },\r\n    events: {\r\n      onReady: this.onPlayerReady,\r\n      onError: (event) => {\r\n        console.error('YouTube Player Error:', event);\r\n      }\r\n    }\r\n  });\r\n},\r\n    getYouTubeIdFromUrl(url) {\r\n      const regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/;\r\n      const match = url.match(regExp);\r\n      return (match && match[7].length === 11) ? match[7] : false;\r\n    },\r\n    async playMusic(index) {\r\n  if (this.currentPlayingIndex === index) {\r\n    this.togglePlay();\r\n    return;\r\n  }\r\n\r\n  this.currentPlayingIndex = index;\r\n  const videoId = this.getYouTubeIdFromUrl(this.musics[index].ms_path);\r\n  \r\n  if (!videoId) {\r\n    console.error('Invalid YouTube URL');\r\n    return;\r\n  }\r\n\r\n  // รอให้ผู้เล่นถูกสร้างขึ้น\r\n  if (!this.player) {\r\n    await this.initYouTubePlayer();\r\n  }\r\n\r\n  if (this.player && typeof this.player.loadVideoById === 'function') {\r\n    this.player.loadVideoById(videoId);\r\n    this.isPlaying = true;\r\n  } else {\r\n    console.error('Player not ready or loadVideoById is not a function');\r\n  }\r\n},\r\n    togglePlay() {\r\n      if (!this.player) return;\r\n      \r\n      if (this.isPlaying) {\r\n        this.player.pauseVideo();\r\n      } else {\r\n        this.player.playVideo();\r\n      }\r\n    },\r\n    nextTrack() {\r\n      if (this.currentPlayingIndex < this.musics.length - 1) {\r\n        this.playMusic(this.currentPlayingIndex + 1);\r\n      }\r\n    },\r\n    previousTrack() {\r\n      if (this.currentPlayingIndex > 0) {\r\n        this.playMusic(this.currentPlayingIndex - 1);\r\n      }\r\n    },\r\n    onPlayerStateChange(event) {\r\n      this.isPlaying = event.data === this.playerStates.PLAYING;\r\n      \r\n      if (event.data === this.playerStates.ENDED) {\r\n        this.nextTrack();\r\n      }\r\n    },\r\n    onPlayerReady() {\r\n      if (this.player) {\r\n        this.player.setVolume(this.volume);\r\n      }\r\n    },\r\n    formatTime(seconds) {\r\n      const minutes = Math.floor(seconds / 60);\r\n      const remainingSeconds = Math.floor(seconds % 60);\r\n      return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;\r\n    },\r\n    seekTime(event) {\r\n      const totalWidth = event.currentTarget.offsetWidth;\r\n      const clickX = event.offsetX;\r\n      const newTime = (clickX / totalWidth) * this.duration;\r\n      this.player.seekTo(newTime);\r\n    },\r\n    toggleVolume() {\r\n      this.volume = this.volume === 0 ? 80 : 0;\r\n      if (this.player) {\r\n        this.player.setVolume(this.volume);\r\n      }\r\n    },\r\n    adjustVolume(event) {\r\n      const totalWidth = event.currentTarget.offsetWidth;\r\n      const clickX = event.offsetX;\r\n      const newVolume = (clickX / totalWidth) * 100;\r\n      this.volume = Math.min(Math.max(newVolume, 0), 100);\r\n      if (this.player) {\r\n        this.player.setVolume(this.volume);\r\n      }\r\n    },\r\n    toggleFavorite() {\r\n      this.isFavorite = !this.isFavorite;\r\n    },\r\n    async chkLogin() {\r\n            await this.chkSession();\r\n            if (!this.memEmail) {\r\n                alert(\"ต้อง Login เข้าระบบก่อน\");\r\n                return;\r\n            }\r\n            await this.chkCart();\r\n            if (!this.cartId) {\r\n                await this.addCart();\r\n            }\r\n            this.addCartDtl();\r\n        }\r\n  },\r\n  mounted() {\r\n    this.fetchMusics();\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n\r\n\r\n<style>\r\n.main {\r\n  background-color: white;\r\n  padding: 1em;\r\n  padding-bottom: 1.1em;\r\n  border-radius: 15px;\r\n  margin: 1em;\r\n}\r\n\r\n.loader {\r\n  display: flex;\r\n  flex-direction: row;\r\n  height: 4em;\r\n  padding-left: 1em;\r\n  padding-right: 1em;\r\n  transform: rotate(180deg);\r\n  justify-content: right;\r\n  border-radius: 10px;\r\n  transition: .4s ease-in-out;\r\n}\r\n\r\n.loader:hover {\r\n  cursor: pointer;\r\n  background-color: lightgray;\r\n}\r\n\r\n.currentplaying {\r\n  display: flex;\r\n  margin: 1em;\r\n}\r\n\r\n.spotify {\r\n  width: 50px;\r\n  height: 50px;\r\n  margin-right: 0.6em;\r\n}\r\n\r\n.heading {\r\n  color: black;\r\n  font-size: 1.1em;\r\n  font-weight: bold;\r\n  align-self: center;\r\n}\r\n\r\n.loading {\r\n  display: flex;\r\n  margin-top: 1em;\r\n  margin-left: 0.3em;\r\n}\r\n\r\n.load {\r\n  width: 2px;\r\n  height: 33px;\r\n  background-color: limegreen;\r\n  animation: 1s move6 infinite;\r\n  border-radius: 5px;\r\n  margin: 0.1em;\r\n}\r\n\r\n.load:nth-child(1) {\r\n  animation-delay: 0.2s;\r\n}\r\n\r\n.load:nth-child(2) {\r\n  animation-delay: 0.4s;\r\n}\r\n\r\n.load:nth-child(3) {\r\n  animation-delay: 0.6s;\r\n}\r\n\r\n.play {\r\n  position: relative;\r\n  left: 0.35em;\r\n  height: 1.6em;\r\n  width: 1.6em;\r\n  clip-path: polygon(50% 50%, 100% 50%, 75% 6.6%);\r\n  background-color: black;\r\n  transform: rotate(-90deg);\r\n  align-self: center;\r\n  margin-top: 0.7em;\r\n  justify-self: center;\r\n}\r\n\r\n.albumcover {\r\n  position: relative;\r\n  margin-right: 1em;\r\n  height: 40px;\r\n  width: 40px;\r\n  background-color: rgb(233, 232, 232);\r\n  align-self: center;\r\n  border-radius: 5px;\r\n}\r\n\r\n.song {\r\n  position: relative;\r\n  transform: rotate(180deg);\r\n  margin-right: 1em;\r\n  color: black;\r\n  align-self: center;\r\n}\r\n\r\n.artist {\r\n  font-size: 0.6em;\r\n}\r\n\r\n@keyframes move6 {\r\n  0% {\r\n    height: 0.2em;\r\n  }\r\n\r\n  25% {\r\n    height: 0.7em;\r\n  }\r\n\r\n  50% {\r\n    height: 1.5em;\r\n  }\r\n\r\n  100% {\r\n    height: 0.2em;\r\n  }\r\n}\r\n.card {\r\n  position: relative;\r\n  min-width: 100%;\r\n  min-height: 100%;\r\n  background: white;\r\n  border-radius: 10px;\r\n  padding: .5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: .3rem;\r\n  box-shadow: 0 10px 40px -25px rgba(100, 100, 100, .5);\r\n  margin-top: 5%;\r\n}\r\n\r\n\r\n.top {\r\n  position: relative;\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  margin-block-end: .5rem;\r\n}\r\n\r\n.pfp {\r\n  position: relative;\r\n  height: 40px;\r\n  width: 40px;\r\n  background-color: white;\r\n  border-radius: 5px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.title-1 {\r\n  color: black;\r\n  font-size: 1.25rem;\r\n  font-weight: 900;\r\n}\r\n\r\n.title-2 {\r\n  color: black;\r\n  font-size: .75rem;\r\n  opacity: .8;\r\n}\r\n\r\n/* new */\r\n.song-time {\r\n  width: 100%;\r\n  margin-inline: auto;\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: .3rem;\r\n}\r\n\r\n.time {\r\n  width: 90%;\r\n  background-color: #5e5e5e;\r\n  height: .35rem;\r\n  border-radius: 3px;\r\n}\r\n\r\n.elapsed {\r\n  width: 42%;\r\n  background-color: #1db954;\r\n  height: 100%;\r\n  border-radius: 3px;\r\n}\r\n\r\n.controls {\r\n  color: black;\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n  align-items: center;\r\n  width: 100%;\r\n}\r\n\r\n.volume {\r\n  height: 100%;\r\n  width: 48px;\r\n}\r\n\r\n.air {\r\n  height: 100%;\r\n  width: 48px;\r\n}\r\n\r\n.controls svg {\r\n  cursor: pointer;\r\n  transition: 0.1s;\r\n}\r\n\r\n.controls svg:hover {\r\n  color: #1db954;\r\n}\r\n\r\n.controls .heart:hover {\r\n  color: pink;\r\n}\r\n\r\n.volume {\r\n  opacity: 0;\r\n  position: relative;\r\n  transition: 0.2s;\r\n}\r\n\r\n.volume .slider {\r\n  height: 4px;\r\n  background-color: #5e5e5e;\r\n  width: 80%;\r\n  border-radius: 2px;\r\n  margin-left: .3rem;\r\n}\r\n\r\n.volume .slider .green {\r\n  background-color: #1db954;\r\n  height: 100%;\r\n  width: 80%;\r\n  border-radius: 3px;\r\n}\r\n\r\n.volume .circle {\r\n  background-color: white;\r\n  height: 6px;\r\n  width: 6px;\r\n  border-radius: 3px;\r\n  position: absolute;\r\n  right: 20%;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n}\r\n\r\n.volume_button:hover~.volume {\r\n  opacity: 1;\r\n}\r\n\r\n.timetext {\r\n  color: white;\r\n}\r\n\r\n.time_now {\r\n  font-size: .8rem;\r\n  background-color: #00000060;\r\n  padding: .5rem;\r\n  border-radius: .5rem;\r\n  background-blend-mode: multiply;\r\n}\r\n\r\n.time_full {\r\n  font-size: .8rem;\r\n  background-color: #00000060;\r\n  padding: .5rem;\r\n  border-radius: .5rem;\r\n  background-blend-mode: multiply;\r\n}\r\n\r\n.playing {\r\n  display: flex;\r\n  position: relative;\r\n  justify-content: center;\r\n  gap: 1px;\r\n  width: 30px;\r\n  height: 20px;\r\n}\r\n\r\n.greenline {\r\n  background-color: #1db954;\r\n  height: 20px;\r\n  width: 2px;\r\n  position: relative;\r\n  transform-origin: bottom;\r\n}\r\n\r\n.line-1 {\r\n  animation: infinite playing 1s ease-in-out;\r\n  animation-delay: 0.2s;\r\n}\r\n\r\n.line-2 {\r\n  animation: infinite playing 1s ease-in-out;\r\n  animation-delay: 0.5s;\r\n}\r\n\r\n.line-3 {\r\n  animation: infinite playing 1s ease-in-out;\r\n  animation-delay: 0.6s;\r\n}\r\n\r\n.line-4 {\r\n  animation: infinite playing 1s ease-in-out;\r\n  animation-delay: 0s;\r\n}\r\n\r\n.line-5 {\r\n  animation: infinite playing 1s ease-in-out;\r\n  animation-delay: 0.4s;\r\n}\r\n\r\n@keyframes playing {\r\n  0% {\r\n    transform: scaleY(0.1);\r\n  }\r\n\r\n  33% {\r\n    transform: scaleY(0.6);\r\n  }\r\n\r\n  66% {\r\n    transform: scaleY(0.9);\r\n  }\r\n\r\n  100% {\r\n    transform: scaleY(0.1);\r\n  }\r\n}\r\n.youtube-container {\r\n  width: 100%;\r\n  margin: 10px 0;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n}\r\n\r\n#youtube-player {\r\n  width: 100%;\r\n  aspect-ratio: 16/9;\r\n}\r\n.chat {\r\n    position: absolute;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}