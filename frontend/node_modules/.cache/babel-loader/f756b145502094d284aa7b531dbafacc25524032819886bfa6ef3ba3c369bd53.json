{"ast":null,"code":"import axios from 'axios';\naxios.defaults.withCredentials = true;\nimport { EventBus } from \"../event-bus\";\nexport default {\n  name: \"CartInfo\",\n  data() {\n    return {\n      cartId: null,\n      qty: 0,\n      money: 0\n    };\n  },\n  async mounted() {\n    await this.sumCart();\n    EventBus.on('cartdtlOK', () => {\n      this.sumCart();\n    });\n    EventBus.on('memlogout', () => {\n      this.clearCart();\n    });\n  },\n  methods: {\n    async sumCart() {\n      console.log('sumCart');\n      await axios.get(`http://localhost:3000/carts/sumcart`).then(res => {\n        console.log(\"SumCart\" + res.data);\n        this.cartId = res.data.id;\n        this.qty = res.data.qty;\n        this.money = res.data.money;\n        console.log(this.money);\n      }).catch(err => {\n        console.error(err);\n      });\n    },\n    clearCart() {\n      console.log('Clear Cart');\n      this.cartId = null;\n      this.qty = 0;\n      this.money = 0;\n    }\n  }\n};","map":{"version":3,"names":["axios","defaults","withCredentials","EventBus","name","data","cartId","qty","money","mounted","sumCart","on","clearCart","methods","console","log","get","then","res","id","catch","err","error"],"sources":["D:\\Users\\Student\\Desktop\\123\\project_webtech\\frontend\\src\\components\\CartInfo.vue"],"sourcesContent":["<template>\r\n    <div v-if=\"cartId != null\" >\r\n        <button  class=\"btn btn-success text-white\" @click=\"$router.push(`/cartshow/${cartId}`)\">\r\n            {{cartId}} [{{ qty }}] - {{ money }}à¸¿\r\n        </button>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport axios from 'axios';\r\naxios.defaults.withCredentials = true\r\nimport { EventBus } from \"../event-bus\"\r\nexport default {\r\n    name: \"CartInfo\",\r\n    data() {\r\n        return {\r\n            cartId: null,\r\n            qty: 0,\r\n            money: 0\r\n        }\r\n    },\r\n    async mounted() {\r\n        await this.sumCart()\r\n        EventBus.on('cartdtlOK', () => {\r\n            this.sumCart()\r\n        })\r\n        EventBus.on('memlogout', () => {\r\n            this.clearCart()\r\n        })\r\n\r\n\r\n    },\r\n    methods: {\r\n        async sumCart() {\r\n            console.log('sumCart')\r\n            await axios.get(`http://localhost:3000/carts/sumcart`)\r\n                .then(res => {\r\n                    console.log(\"SumCart\" + res.data)\r\n                    this.cartId = res.data.id\r\n                    this.qty = res.data.qty\r\n                    this.money = res.data.money\r\n                    console.log(this.money)\r\n                })\r\n                .catch(err => {\r\n                    console.error(err);\r\n                });\r\n        },\r\n        clearCart()\r\n        {\r\n            console.log('Clear Cart')\r\n            this.cartId = null\r\n            this.qty = 0\r\n            this.money = 0\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n\r\n<style></style>\r\n"],"mappings":"AAUA,OAAOA,KAAI,MAAO,OAAO;AACzBA,KAAK,CAACC,QAAQ,CAACC,eAAc,GAAI,IAAG;AACpC,SAASC,QAAO,QAAS,cAAa;AACtC,eAAe;EACXC,IAAI,EAAE,UAAU;EAChBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,MAAM,EAAE,IAAI;MACZC,GAAG,EAAE,CAAC;MACNC,KAAK,EAAE;IACX;EACJ,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACZ,MAAM,IAAI,CAACC,OAAO,CAAC;IACnBP,QAAQ,CAACQ,EAAE,CAAC,WAAW,EAAE,MAAM;MAC3B,IAAI,CAACD,OAAO,CAAC;IACjB,CAAC;IACDP,QAAQ,CAACQ,EAAE,CAAC,WAAW,EAAE,MAAM;MAC3B,IAAI,CAACC,SAAS,CAAC;IACnB,CAAC;EAGL,CAAC;EACDC,OAAO,EAAE;IACL,MAAMH,OAAOA,CAAA,EAAG;MACZI,OAAO,CAACC,GAAG,CAAC,SAAS;MACrB,MAAMf,KAAK,CAACgB,GAAG,CAAC,qCAAqC,EAChDC,IAAI,CAACC,GAAE,IAAK;QACTJ,OAAO,CAACC,GAAG,CAAC,SAAQ,GAAIG,GAAG,CAACb,IAAI;QAChC,IAAI,CAACC,MAAK,GAAIY,GAAG,CAACb,IAAI,CAACc,EAAC;QACxB,IAAI,CAACZ,GAAE,GAAIW,GAAG,CAACb,IAAI,CAACE,GAAE;QACtB,IAAI,CAACC,KAAI,GAAIU,GAAG,CAACb,IAAI,CAACG,KAAI;QAC1BM,OAAO,CAACC,GAAG,CAAC,IAAI,CAACP,KAAK;MAC1B,CAAC,EACAY,KAAK,CAACC,GAAE,IAAK;QACVP,OAAO,CAACQ,KAAK,CAACD,GAAG,CAAC;MACtB,CAAC,CAAC;IACV,CAAC;IACDT,SAASA,CAAA,EACT;MACIE,OAAO,CAACC,GAAG,CAAC,YAAY;MACxB,IAAI,CAACT,MAAK,GAAI,IAAG;MACjB,IAAI,CAACC,GAAE,GAAI;MACX,IAAI,CAACC,KAAI,GAAI;IACjB;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}