{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"favorites-container p-4\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"text-2xl font-bold mb-4\"\n}, \"My Favorite Songs\", -1 /* HOISTED */);\nconst _hoisted_3 = {\n  key: 0,\n  class: \"text-center py-4\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"p\", null, \"Loading your favorites...\", -1 /* HOISTED */);\nconst _hoisted_5 = [_hoisted_4];\nconst _hoisted_6 = {\n  key: 1,\n  class: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\"\n};\nconst _hoisted_7 = {\n  key: 2,\n  class: \"text-center py-8\"\n};\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"text-gray-600\"\n}, \"You haven't added any songs to your favorites yet.\", -1 /* HOISTED */);\nconst _hoisted_9 = [_hoisted_8];\nconst _hoisted_10 = {\n  key: 3,\n  class: \"grid gap-4\"\n};\nconst _hoisted_11 = {\n  class: \"font-semibold\"\n};\nconst _hoisted_12 = {\n  class: \"text-gray-600 text-sm\"\n};\nconst _hoisted_13 = [\"onClick\", \"disabled\"];\nconst _hoisted_14 = {\n  key: 0\n};\nconst _hoisted_15 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createCommentVNode(\" Loading State \"), $data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [..._hoisted_5])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Error State \"), $data.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, _toDisplayString($data.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Empty State \"), !$data.loading && $data.favorites.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [..._hoisted_9])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Favorites List \"), !$data.loading && $data.favorites.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.favorites, song => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: song.ms_id,\n      class: \"bg-white shadow rounded-lg p-4 flex justify-between items-center hover:bg-gray-50\"\n    }, [_createElementVNode(\"div\", null, [_createElementVNode(\"h3\", _hoisted_11, _toDisplayString(song.title), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_12, _toDisplayString(song.artist), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n      onClick: $event => $options.removeFavorite(song.ms_id),\n      class: \"text-red-600 hover:text-red-800 p-2 rounded-full hover:bg-red-100\",\n      disabled: $data.removingId === song.ms_id\n    }, [$data.removingId === song.ms_id ? (_openBlock(), _createElementBlock(\"span\", _hoisted_14, \"Removing...\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_15, \"Remove\"))], 8 /* PROPS */, _hoisted_13)]);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementVNode","key","_hoisted_4","_hoisted_8","_createElementBlock","_hoisted_1","_hoisted_2","_createCommentVNode","$data","loading","_hoisted_3","_hoisted_5","error","_hoisted_6","_toDisplayString","favorites","length","_hoisted_7","_hoisted_9","_hoisted_10","_Fragment","_renderList","song","ms_id","_hoisted_11","title","_hoisted_12","artist","onClick","$event","$options","removeFavorite","disabled","removingId","_hoisted_14","_hoisted_15","_hoisted_13"],"sources":["/Users/addeen/Desktop/project/frontend/src/components/FavoriteSongs.vue"],"sourcesContent":["<template>\r\n    <div class=\"favorites-container p-4\">\r\n      <h2 class=\"text-2xl font-bold mb-4\">My Favorite Songs</h2>\r\n      \r\n      <!-- Loading State -->\r\n      <div v-if=\"loading\" class=\"text-center py-4\">\r\n        <p>Loading your favorites...</p>\r\n      </div>\r\n  \r\n      <!-- Error State -->\r\n      <div v-if=\"error\" class=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\">\r\n        {{ error }}\r\n      </div>\r\n  \r\n      <!-- Empty State -->\r\n      <div v-if=\"!loading && favorites.length === 0\" class=\"text-center py-8\">\r\n        <p class=\"text-gray-600\">You haven't added any songs to your favorites yet.</p>\r\n      </div>\r\n  \r\n      <!-- Favorites List -->\r\n      <div v-if=\"!loading && favorites.length > 0\" class=\"grid gap-4\">\r\n        <div \r\n          v-for=\"song in favorites\" \r\n          :key=\"song.ms_id\"\r\n          class=\"bg-white shadow rounded-lg p-4 flex justify-between items-center hover:bg-gray-50\"\r\n        >\r\n          <div>\r\n            <h3 class=\"font-semibold\">{{ song.title }}</h3>\r\n            <p class=\"text-gray-600 text-sm\">{{ song.artist }}</p>\r\n          </div>\r\n          \r\n          <button\r\n            @click=\"removeFavorite(song.ms_id)\"\r\n            class=\"text-red-600 hover:text-red-800 p-2 rounded-full hover:bg-red-100\"\r\n            :disabled=\"removingId === song.ms_id\"\r\n          >\r\n            <span v-if=\"removingId === song.ms_id\">Removing...</span>\r\n            <span v-else>Remove</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  \r\n  export default {\r\n    name: 'FavoriteSongs',\r\n    data() {\r\n      return {\r\n        favorites: [],\r\n        loading: true,\r\n        error: null,\r\n        removingId: null,\r\n      };\r\n    },\r\n    created() {\r\n      this.fetchFavorites();\r\n    },\r\n    methods: {\r\n      async fetchFavorites() {\r\n        try {\r\n          this.loading = true;\r\n          this.error = null;\r\n          const response = await axios.get(`/favs/getfavs/1`);\r\n          this.favorites = response.data;\r\n        } catch (err) {\r\n          this.error = 'Failed to load favorites. Please try again.';\r\n          console.error('Error fetching favorites:', err);\r\n        } finally {\r\n          this.loading = false;\r\n        }\r\n      },\r\n  \r\n      async removeFavorite(musicId) {\r\n        try {\r\n          this.removingId = musicId;\r\n          await axios.get(`/favs/getfavsdtl/${musicId}`, {\r\n            params: {\r\n              userId: this.getUserId()\r\n            }\r\n          });\r\n          // Remove the song from the local list\r\n          this.favorites = this.favorites.filter(song => song.ms_id !== musicId);\r\n        } catch (err) {\r\n          this.error = 'Failed to remove from favorites. Please try again.';\r\n          console.error('Error removing favorite:', err);\r\n        } finally {\r\n          this.removingId = null;\r\n        }\r\n      },\r\n  \r\n      getUserId() {\r\n        // Replace this with your actual method of getting the user ID\r\n        // This could come from Vuex store, local storage, or a prop\r\n        return localStorage.getItem('userId') || '';\r\n      }\r\n    }\r\n  };\r\n  </script>"],"mappings":";;EACSA,KAAK,EAAC;AAAyB;gCAClCC,mBAAA,CAA0D;EAAtDD,KAAK,EAAC;AAAyB,GAAC,mBAAiB;;EAF3DE,GAAA;EAK0BF,KAAK,EAAC;;gCACxBC,mBAAA,CAAgC,WAA7B,2BAAyB;oBAA5BE,UAAgC,C;;EANxCD,GAAA;EAUwBF,KAAK,EAAC;;;EAV9BE,GAAA;EAeqDF,KAAK,EAAC;;gCACnDC,mBAAA,CAA+E;EAA5ED,KAAK,EAAC;AAAe,GAAC,oDAAkD;oBAA3EI,UAA+E,C;;EAhBvFF,GAAA;EAoBmDF,KAAK,EAAC;;;EAOzCA,KAAK,EAAC;AAAe;;EACtBA,KAAK,EAAC;AAAuB;oBA5B5C;;EAAAE,GAAA;AAAA;;EAAAA,GAAA;AAAA;;uBACIG,mBAAA,CAwCM,OAxCNC,UAwCM,GAvCJC,UAA0D,EAE1DC,mBAAA,mBAAsB,EACXC,KAAA,CAAAC,OAAO,I,cAAlBL,mBAAA,CAEM,OAFNM,UAEM,EAPZ,IAAAC,UAAA,MAAAJ,mBAAA,gBASMA,mBAAA,iBAAoB,EACTC,KAAA,CAAAI,KAAK,I,cAAhBR,mBAAA,CAEM,OAFNS,UAEM,EAAAC,gBAAA,CADDN,KAAA,CAAAI,KAAK,oBAXhBL,mBAAA,gBAcMA,mBAAA,iBAAoB,E,CACRC,KAAA,CAAAC,OAAO,IAAID,KAAA,CAAAO,SAAS,CAACC,MAAM,U,cAAvCZ,mBAAA,CAEM,OAFNa,UAEM,EAjBZ,IAAAC,UAAA,MAAAX,mBAAA,gBAmBMA,mBAAA,oBAAuB,E,CACXC,KAAA,CAAAC,OAAO,IAAID,KAAA,CAAAO,SAAS,CAACC,MAAM,Q,cAAvCZ,mBAAA,CAoBM,OApBNe,WAoBM,I,kBAnBJf,mBAAA,CAkBMgB,SAAA,QAvCdC,WAAA,CAsByBb,KAAA,CAAAO,SAAS,EAAjBO,IAAI;yBADblB,mBAAA,CAkBM;MAhBHH,GAAG,EAAEqB,IAAI,CAACC,KAAK;MAChBxB,KAAK,EAAC;QAENC,mBAAA,CAGM,cAFJA,mBAAA,CAA+C,MAA/CwB,WAA+C,EAAAV,gBAAA,CAAlBQ,IAAI,CAACG,KAAK,kBACvCzB,mBAAA,CAAsD,KAAtD0B,WAAsD,EAAAZ,gBAAA,CAAlBQ,IAAI,CAACK,MAAM,iB,GAGjD3B,mBAAA,CAOS;MANN4B,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAC,cAAc,CAACT,IAAI,CAACC,KAAK;MACjCxB,KAAK,EAAC,mEAAmE;MACxEiC,QAAQ,EAAExB,KAAA,CAAAyB,UAAU,KAAKX,IAAI,CAACC;QAEnBf,KAAA,CAAAyB,UAAU,KAAKX,IAAI,CAACC,KAAK,I,cAArCnB,mBAAA,CAAyD,QApCrE8B,WAAA,EAoCmD,aAAW,M,cAClD9B,mBAAA,CAA0B,QArCtC+B,WAAA,EAqCyB,QAAM,G,iBArC/BC,WAAA,E;sCAAA7B,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}